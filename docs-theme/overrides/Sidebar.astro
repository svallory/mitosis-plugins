---
import MobileMenuFooter from "virtual:starlight/components/MobileMenuFooter";
import SidebarPersister from "@astrojs/starlight/components/SidebarPersister.astro";
import SidebarSublist from "@astrojs/starlight/components/SidebarSublist.astro";

const { sidebar } = Astro.locals.starlightRoute;
---

<SidebarPersister>
  <SidebarSublist sublist={sidebar} />
</SidebarPersister>

<div class="sidebar-footer">
  <a
    href="https://saulo.engineer"
    class="hire-button"
    target="_blank"
    rel="noopener noreferrer"
  >
    <svg
      width="16"
      height="16"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      aria-hidden="true"
    >
      <path d="M12 12h.01M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2m14 7a18.15 18.15 0 0 1-20 0"></path>
      <rect width="20" height="14" x="2" y="6" rx="2"></rect>
    </svg>
    <span>Hire the Author</span>
  </a>

  <a
    href="https://github.com/sponsors/svallory"
    class="sponsor-button"
    target="_blank"
    rel="noopener noreferrer"
  >
    <svg
      width="16"
      height="16"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      aria-hidden="true"
    >
      <path
        d="M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676a.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052a2.12 2.12 0 0 0-.004-3a2.124 2.124 0 1 0 3-3a2.124 2.124 0 0 0 3.004 0a2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0a2 2 0 0 1 0-2.828l2.823-2.762"
      ></path>
    </svg>
    <span>Sponsor</span>
  </a>
</div>

<div class="md:sl-hidden">
  <MobileMenuFooter />
</div>

<style>
  .sidebar-footer {
    margin-top: auto;
    padding-top: 1rem;
    border-top: 1px solid var(--sl-color-hairline-light);
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .hire-button {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    color: white;
    text-decoration: none;
    font-weight: 600;
    font-size: var(--sl-text-sm);
    transition: all 0.2s ease;
    box-shadow: 0 2px 4px rgba(30, 41, 59, 0.3);
  }

  .hire-button:hover {
    background: linear-gradient(135deg, #334155 0%, #1e293b 100%);
    box-shadow: 0 4px 8px rgba(30, 41, 59, 0.4);
    transform: translateY(-1px);
  }

  .sponsor-button {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    background: linear-gradient(135deg, #ea4aaa 0%, #ff6b9d 100%);
    color: white;
    text-decoration: none;
    font-weight: 600;
    font-size: var(--sl-text-sm);
    transition: all 0.2s ease;
    box-shadow: 0 2px 4px rgba(234, 74, 170, 0.2);
  }

  .sponsor-button:hover {
    background: linear-gradient(135deg, #d63a9a 0%, #ef5b8d 100%);
    box-shadow: 0 4px 8px rgba(234, 74, 170, 0.3);
    transform: translateY(-1px);
  }

  .hire-button svg,
  .sponsor-button svg {
    flex-shrink: 0;
  }

  @media (prefers-color-scheme: dark) {
    .hire-button {
      background: linear-gradient(135deg, #475569 0%, #334155 100%);
      box-shadow: 0 2px 4px rgba(71, 85, 105, 0.4);
    }

    .hire-button:hover {
      background: linear-gradient(135deg, #64748b 0%, #475569 100%);
      box-shadow: 0 4px 8px rgba(71, 85, 105, 0.5);
    }

    .sponsor-button {
      background: linear-gradient(135deg, #ff69b4 0%, #ff1493 100%);
      box-shadow: 0 2px 4px rgba(255, 105, 180, 0.3);
    }

    .sponsor-button:hover {
      background: linear-gradient(135deg, #ff5aa4 0%, #ee0483 100%);
      box-shadow: 0 4px 8px rgba(255, 105, 180, 0.4);
    }
  }
</style>
